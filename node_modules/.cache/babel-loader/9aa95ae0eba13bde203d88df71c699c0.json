{"ast":null,"code":"var _jsxFileName = \"/home/yashwantgahlot/CryptoYashwant/python-blockchain-tutorial/frontend/src/components/Blockchain.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { API_BASE_URL } from '../config';\nimport Block from './Block';\nconst PAGE_RANGE = 3;\n\nfunction Blockchain() {\n  const [blockchain, setBlockchain] = useState([]);\n  const [blockchainLength, setBlockchainLength] = useState(0);\n\n  const fetchBlockchainPage = ({\n    start,\n    end\n  }) => {\n    fetch(`${API_BASE_URL}/blockchain/range?start=${start}&end=${end}`).then(response => response.json()).then(json => setBlockchain(json));\n  };\n\n  useEffect(() => {\n    fetchBlockchainPage({\n      start: 0,\n      end: PAGE_RANGE\n    });\n    fetch(`${API_BASE_URL}/blockchain/length`).then(response => response.json()).then(json => setBlockchainLength(json));\n  }, []);\n  const buttonNumbers = [];\n\n  for (let i = 0; i < blockchainLength / PAGE_RANGE; i++) {\n    buttonNumbers.push(i);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Blockchain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Blockchain\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, blockchain.map(block => /*#__PURE__*/React.createElement(Block, {\n    key: block.hash,\n    block: block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 35\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, buttonNumbers.map(number => {\n    const start = number * PAGE_RANGE;\n    const end = (number + 1) * PAGE_RANGE;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: number,\n      onClick: () => fetchBlockchainPage({\n        start,\n        end\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, number + 1), ' ');\n  })));\n}\n\nexport default Blockchain;","map":{"version":3,"sources":["/home/yashwantgahlot/CryptoYashwant/python-blockchain-tutorial/frontend/src/components/Blockchain.js"],"names":["React","useState","useEffect","Link","Button","API_BASE_URL","Block","PAGE_RANGE","Blockchain","blockchain","setBlockchain","blockchainLength","setBlockchainLength","fetchBlockchainPage","start","end","fetch","then","response","json","buttonNumbers","i","push","map","block","hash","number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { API_BASE_URL } from '../config';\nimport Block from './Block';\n\nconst PAGE_RANGE = 3;\n\nfunction Blockchain() {\n  const [blockchain, setBlockchain] = useState([]);\n  const [blockchainLength, setBlockchainLength] = useState(0);\n\n  const fetchBlockchainPage = ({ start, end }) => {\n    fetch(`${API_BASE_URL}/blockchain/range?start=${start}&end=${end}`)\n      .then(response => response.json())\n      .then(json => setBlockchain(json));\n  }\n\n  useEffect(() => {\n    fetchBlockchainPage({ start: 0, end: PAGE_RANGE });\n\n    fetch(`${API_BASE_URL}/blockchain/length`)\n      .then(response => response.json())\n      .then(json => setBlockchainLength(json));\n  }, []);\n\n  const buttonNumbers = [];\n  for (let i=0; i<blockchainLength/PAGE_RANGE; i++) {\n    buttonNumbers.push(i);\n  }\n\n  return (\n    <div className=\"Blockchain\">\n      <Link to='/'>Home</Link>\n      <hr />\n      <h3>Blockchain</h3>\n      <div>\n        {\n          blockchain.map(block => <Block key={block.hash} block={block} />)\n        }\n      </div>\n      <div>\n        {\n          buttonNumbers.map(number => {\n            const start = number * PAGE_RANGE;\n            const end = (number+1) * PAGE_RANGE;\n\n            return (\n              <span key={number} onClick={() => fetchBlockchainPage({ start, end })}>\n                <Button size=\"sm\" variant=\"danger\">\n                  {number+1}\n                </Button>{' '}\n              </span>\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Blockchain;\n"]},"metadata":{},"sourceType":"module"}